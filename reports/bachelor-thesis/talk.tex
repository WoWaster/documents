% !TEX TS-program = xelatex
% !BIB program = bibtex
% !TeX spellcheck = ru_RU
% !TEX root = talk.tex

\documentclass
  [ russian
  , aspectratio=169 % Для защит онлайн лучше использовать разрешение не 4х3
  ] {beamer}

\input{preamble.tex}
\setbeamertemplate{itemize items}[circle]
\setbeamertemplate{enumerate items}[circle]

\newcommand\blfootnote[1]{%
	\begingroup
	\renewcommand\thefootnote{}\footnote{#1}%
	\addtocounter{footnote}{-1}%
	\endgroup
}

\makeatletter

\input{pretitle.tex}
\input{title.tex}

\newcommand{\academicGroup}{\my@title@group@ru}
\newcommand{\advisorChair}{\my@title@chair@ru}
% То, что в квадратных скобках, отображается внизу по центру каждого слайда.
\title[Lamagraph: Транслятор в Interaction Nets]{\my@title@title@ru}
% То, что в квадратных скобках, отображается в левом нижнем углу.
\author[\my@title@author@ru]{\my@title@author@ru, группа \academicGroup}
\institute[СПбГУ]{}
\date[25 апреля 2025 г.]{}
\newcommand{\supervisor}{\my@title@supervisor@ru}
\newcommand{\supervisorPosition}{\my@title@supervisorPosition@ru}
\newcommand{\consultant}{\my@title@consultant@ru}
\newcommand{\consultantPosition}{\my@title@consultantPosition@ru}
\newcommand{\reviewer}{\my@title@reviewer@ru}
\newcommand{\reviewerPosition}{\my@title@reviewerPosition@ru}
\newcommand{\defenseYear}{\my@title@year@ru}

\makeatother
\begin{document}
{
\setbeamertemplate{footline}{}
% Лого университета или организации, отображается в шапке титульного листа
\begin{frame}
    \includegraphics[width=1.4cm]{figures/герб_серый.png}
    \vspace{-35pt}
    \hspace{-10pt}
    \begin{center}
        \begin{tabular}{c}
            \scriptsize{Санкт-Петербургский государственный университет} \\
            \scriptsize{\advisorChair}
        \end{tabular}
        \titlepage
    \end{center}

    \btVFill

    {\scriptsize
        % У научного руководителя должна быть указана научная степень
        \textbf{Научный руководитель:} \supervisorPosition~\supervisor \\
        % Консультанта может и не быть. Должна быть указана должность или ученая степень
        % \textbf{Консультант:}  \consultantPosition~\consultant \\
        % Для учебной практики не обязателен. Должна быть указана должность или ученая степень
        \textbf{Рецензент:} \reviewerPosition~\reviewer \\
    }
    \makeatother
    \begin{center}
        \vspace{5pt}
        \scriptsize{Санкт-Петербург\\ \defenseYear}
    \end{center}
\end{frame}
}

\begin{frame}{Введение}

    \begin{itemize}
        \item Задачи искусственного интеллекта и анализа графов влекут за собой нерегулярный параллелизм
        \item Традиционные архитектуры плохо справляются с нерегулярным параллелизмом $\implies$~требуются специализированные ускорители
        \item \INs{}~--- модель вычислений, которой естествен нерегулярный параллелизм
        \item Существуют программные реализации \INs{}, однако попыток реализовать ускоритель на её основе пока не предпринималось
    \end{itemize}

\end{frame}

\begin{frame}{\Lamagraph{}}

    Проект \Lamagraph{} исследует возможности по разработке
    \begin{itemize}
        \item параметризуемого многоядерного сопроцессора на основе \INs{}
        \item ML-подобного функционального языка для программирования сопроцессора
    \end{itemize}
    \begin{center}
        \includegraphics[width=\linewidth]{figures/lamagraph-big-horiz.pdf}
    \end{center}

\end{frame}

\begin{frame}{Требования к проекту}

    Проект на первом этапе: разработка минимальной инфраструктуры для создания ускорителей на основе Interaction Nets

    \vspace{1em}

    На данном этапе выдвинуты следующие требования
    \begin{itemize}
        \item Получение полнофункционального прототипа, содержащего все компоненты, важнее, чем детальная проработка какого-то отдельного компонента
        \item Использование единого стека технологий
        \item Возможность анализа результатов каждого этапа работы
    \end{itemize}

\end{frame}

\begin{frame}
    \frametitle{Постановка задачи}

    \textbf{Целью} работы является разработка транслятора модельного функционального языка в \INs{}
    \vspace{1em}

    \textbf{Задачи}:
    \begin{enumerate}
        \item Реализовать интерпретатор модельного ML-подобного языка
              \begin{enumerate}
                  \item Фронтенд транслятора
                  \item Интерпретатор обогащенного $\lambda$-исчисления
              \end{enumerate}
        \item Реализовать интерпретатор \INs{}, поддерживающий сбор статистики
        \item Реализовать транслятор обогащенного $\lambda$-исчисления в \INs{}
    \end{enumerate}

\end{frame}

\begin{frame}
    \frametitle{Реализация}

    \begin{center}
        \includegraphics[width=0.8\linewidth]{figures/using.pdf}
    \end{center}

    %     \begin{itemize}
    %         \item Интерпретатор реализован на \Haskell{}
    %         \item Для всех компонент применяются golden тесты
    %     \end{itemize}

\end{frame}

\begin{frame}{Фронтенд и интерпретатор LamagraphML}

    \begin{itemize}
        \item Используется ML-подобный синтаксис, для представления AST используется паттерн Trees That Grow
        \item Парсер реализован с помощью связки \textsc{Alex} и \textsc{Happy} с применением property-based тестов
        \item Используется система типов Хиндли-Милнера
        \item Для упрощения дальнейших преобразований используется промежуточное представление~--- обогащенное $\lambda$-исчисление
        \item Реализован интерпретатор на основе замыканий, на данный момент он наследует стратегию языка реализации~--- call-by-need
    \end{itemize}

\end{frame}

\begin{frame}
    \frametitle{Транслятор $\lambda$-исчисления в \INs{}}

    \begin{itemize}
        \item Существует не одна схема трансляции $\lambda$-исчисления в \INs{}
        \item Используем схему, реализующую стратегию вычислений call-by-value
        \item Выяснилось, что схемы трансляции разрабатываются только для чистого $\lambda$-исчисления
              \begin{itemize}
                  \item Существующие расширения не подходят в нашем случае
                  \item Реализована поддержка только чистого $\lambda$-исчисления
              \end{itemize}
        \item Расширения схемы трансляции~--- предмет дальнейшей работы
    \end{itemize}

\end{frame}

\begin{frame}
    \frametitle{Интерпретатор \INs{}}

    \begin{columns}
        \begin{column}{0.6\linewidth}
            \begin{itemize}
                \item Стандартное представление \INs{}~--- графовое
                \item Работать с графами в функциональных языках сложно $\implies$ используем альтернативное текстовое представление
                \item Для него существует абстрактная машина, она и была реализована
            \end{itemize}
        \end{column}
        \begin{column}{0.35\linewidth}
            Графовое представление:

            \begin{center}
                \includegraphics[width=0.5\linewidth]{figures/ins_graph.pdf}
            \end{center}

            Текстовое представление
            \[\big\langle x \mid{} \Downarrow(x) \bowtie \lambda(y, y) \big\rangle\]
        \end{column}
    \end{columns}

\end{frame}

\begin{frame}
    \frametitle{Статистика и её анализ}

    \begin{columns}
        \begin{column}{0.45\linewidth}
            На основе статистики сейчас можем анализировать
            \begin{itemize}
                \item Затраты на параллельное исполнение
                \item Ускорение при параллельном исполнении
                \item Максимальное количество независимых подзадач
            \end{itemize}
        \end{column}
        \begin{column}{0.5\linewidth}
            \begin{figure}
                \begin{center}
                    \includegraphics[width=\linewidth, page=2]{figures/Figures_cropped.pdf}
                \end{center}
                \caption{Оценка ускорения при использовании параллельности на итеративном факториале}
            \end{figure}
        \end{column}
    \end{columns}

\end{frame}

\begin{frame}
    \frametitle{Результаты}
    В рамках выпускной квалификационной работы были достигнуты следующие результаты
    \begin{enumerate}
        \item Реализован интерпретатор модельного ML-подобного языка со стратегий call-by-need
        \item Реализован интерпретатор \INs{} на основе абстрактной машины с возможностью сбора статистики
        \item Реализован транслятор чистого $\lambda$-исчисления в \INs{} в стратегии call-by-value
    \end{enumerate}

    \vspace{1em}

    Исходный код находится в репозитории: \url{https://github.com/Lamagraph/interaction-nets-in-fpga}

    Имя коммитера: \texttt{WoWaster}
\end{frame}

\appendix
\begin{frame}{Interaction Nets}

    \begin{center}
        \includegraphics[width=\textwidth]{figures/in_talk.pdf}
    \end{center}

\end{frame}

\end{document}
